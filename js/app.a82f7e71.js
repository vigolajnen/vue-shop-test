(function(){"use strict";var t={2492:function(t,e,r){var o=r(9242),s=r(3396);const a={class:"fh-main"};function i(t,e,r,o,i,n){const c=(0,s.up)("fh-header"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c),(0,s._)("main",a,[(0,s.Wm)(l)])],64)}var n=r(7139);const c={class:"fh-header"},l={class:"fh-header__wrapper"},u={class:"fh-header__brand"},d={class:"fh-header__cart fh-cart"},p={class:"fh-cart__counter"},_=(0,s._)("svg",{class:"fh-cart__icon fill-current",fill:"#ffffff",viewbox:"0 0 24 24"},[(0,s._)("path",{d:"M17,18C15.89,18 15,18.89 15,20A2,2 0 0,0 17,22A2,2 0 0,0 19,20C19,18.89 18.1,18 17,18M1,2V4H3L6.6,11.59L5.24,14.04C5.09,14.32 5,14.65 5,15A2,2 0 0,0 7,17H19V15H7.42A0.25,0.25 0 0,1 7.17,14.75C7.17,14.7 7.18,14.66 7.2,14.63L8.1,13H15.55C16.3,13 16.96,12.58 17.3,11.97L20.88,5.5C20.95,5.34 21,5.17 21,5A1,1 0 0,0 20,4H5.21L4.27,2M7,18C5.89,18 5,18.89 5,20A2,2 0 0,0 7,22A2,2 0 0,0 9,20C9,18.89 8.1,18 7,18Z"})],-1),m=(0,s._)("span",{class:"fh-cart__title"},"Корзина",-1);function h(t,e,r,o,a,i){const h=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("header",c,[(0,s._)("div",l,[(0,s.Wm)(h,{to:{name:"catalog"}},{default:(0,s.w5)((()=>[(0,s._)("div",u,(0,n.zw)(a.title),1)])),_:1}),(0,s.Wm)(h,{to:{name:"cart",params:{cart_data:t.CART}}},{default:(0,s.w5)((()=>[(0,s._)("button",d,[(0,s._)("span",p,(0,n.zw)(t.CART.length),1),_,m])])),_:1},8,["to"])])])}var f=r(65),v={name:"fh-header",data(){return{title:"Fitness House Market"}},computed:{...(0,f.Se)(["CART"])},methods:{}},C=r(89);const g=(0,C.Z)(v,[["render",h]]);var T=g,O={name:"App",components:{fhHeader:T},data(){return{}},methods:{}};const D=(0,C.Z)(O,[["render",i]]);var w=D,A=r(6265),R=r.n(A);const P=(0,f.MT)({state:{products:[],cart:[]},mutations:{SET_PRODUCTS_TO_STATE:(t,e)=>{t.products=e},SET_CART:(t,e)=>{t.cart.push(e)},REMOVE_FROM_CART:(t,e)=>{t.cart.splice(e,1)}},actions:{GET_PRODUCTS_FROM_API({commit:t}){R().get("https://vigolajnen.github.io/jsonapi/data.json").then((e=>(console.log(e.data.services),t("SET_PRODUCTS_TO_STATE",e.data.services),e))).catch((t=>(console.log(t),t)))},ADD_TO_CART({commit:t},e){t("SET_CART",e)},DELETE_FROM_CART({commit:t},e){t("REMOVE_FROM_CART",e)}},getters:{PRODUCTS(t){return t.products},CART(t){return t.cart}}});var S=P,b=r(678);const y={class:"page-cart"},k=(0,s._)("h1",null,"Корзина",-1),E={key:0,class:"page-cart__empty-text"};function F(t,e,r,o,a,i){const n=(0,s.up)("fh-cart");return(0,s.wg)(),(0,s.iD)("div",y,[k,(0,s.Wm)(n,{cart_data:t.CART},null,8,["cart_data"]),0==t.CART.length?((0,s.wg)(),(0,s.iD)("p",E,"Корзина пуста")):(0,s.kq)("",!0)])}const M={class:"fh-cart fh-cart-grid"};function H(t,e,r,o,a,i){const n=(0,s.up)("fh-cart-item");return(0,s.wg)(),(0,s.iD)("div",M,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.cart_data,((t,e)=>((0,s.wg)(),(0,s.j4)(n,{key:t.alias,cart_item_data:t,onDeleteFromCart:t=>i.deleteFromCart(e),onAddToCart:i.addToCart},null,8,["cart_item_data","onDeleteFromCart","onAddToCart"])))),128))])}const U={class:"fh-cart-item"},z={class:"fh-cart-item__pic"},j=["src","alt"],V={class:"item__info"},W={class:"item__title"},Z={class:"item__list"};function L(t,e,r,o,a,i){return(0,s.wg)(),(0,s.iD)("div",U,[(0,s._)("div",z,[(0,s._)("img",{src:r.cart_item_data.image,alt:r.cart_item_data.title},null,8,j)]),(0,s._)("div",V,[(0,s._)("h3",W,(0,n.zw)(r.cart_item_data.title),1),(0,s._)("ul",Z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.cart_item_data.properties.length,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{class:"item__list-item",key:e}," # "+(0,n.zw)(r.cart_item_data.properties[e].value),1)))),128))])]),(0,s._)("button",{class:"button",onClick:e[0]||(e[0]=(...t)=>i.deleteFromCart&&i.deleteFromCart(...t))},"Удалить")])}var Y={name:"fh-cart-item",props:{cart_item_data:{type:Object,default(){return{}}}},mounted(){},methods:{deleteFromCart(){this.$emit("deleteFromCart")}}};const x=(0,C.Z)(Y,[["render",L]]);var $=x,K={name:"fh-cart",props:{cart_data:{type:Array,default(){return[]}}},components:{fhCartItem:$},computed:{...(0,f.Se)(["CART"])},methods:{...(0,f.nv)(["DELETE_FROM_CART","ADD_TO_CART"]),deleteFromCart(t){this.DELETE_FROM_CART(t)},addToCart(t){this.ADD_TO_CART(t),console.log(t)}}};const I=(0,C.Z)(K,[["render",H]]);var q=I,G={name:"page-cart",components:{FhCart:q},computed:{...(0,f.Se)(["CART"])}};const B=(0,C.Z)(G,[["render",F]]);var J=B;const N={class:"page-product"},Q={class:"page-product__wrapper"},X={class:"page-product__title"},tt={class:"page-product__pic"},et=["src","alt"],rt={class:"page-product__text"},ot={class:"page-product__list"},st={class:"page-product__footer"},at={class:"page-product__price"};function it(t,e,r,o,a,i){return(0,s.wg)(),(0,s.iD)("div",N,[(0,s._)("div",Q,[(0,s._)("h1",X,(0,n.zw)(i.product.title),1),(0,s._)("div",tt,[(0,s._)("img",{src:i.product.image,alt:i.product.title,width:"300",height:"200"},null,8,et)]),(0,s._)("p",rt,(0,n.zw)(i.product.description),1),(0,s._)("ul",ot,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.product.properties.length,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:e},[(0,s.Uk)((0,n.zw)(i.product.properties[e].title)+": ",1),(0,s._)("b",null,(0,n.zw)(i.product.properties[e].value),1)])))),128))]),(0,s._)("div",st,[(0,s._)("span",at,(0,n.zw)(i.product.price)+" руб.",1)])])])}var nt={name:"page-product",components:{},computed:{...(0,f.Se)(["PRODUCTS"]),product(){let t={},e=this;return this.PRODUCTS.map((r=>{r.alias===e.$route.query.product&&(t=r)})),t}},methods:{addToCart(){this.$emit("addToCart",this.product),console.log(111)}}};const ct=(0,C.Z)(nt,[["render",it]]);var lt=ct;const ut={class:"page-catalog"};function dt(t,e,r,o,a,i){const n=(0,s.up)("fh-catalog");return(0,s.wg)(),(0,s.iD)("div",ut,[(0,s.Wm)(n)])}const pt={class:"fh-filters"},_t={class:"fh-catalog"};function mt(t,e,r,o,a,i){const n=(0,s.up)("my-select"),c=(0,s.up)("fh-catalog-item");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",pt,[(0,s.Wm)(n,{class:"fh-filters__item",options:a.options,onSelect:i.sortCountDaysProduct,selected:a.titleOptions[0]},null,8,["options","onSelect","selected"]),(0,s.Wm)(n,{class:"fh-filters__item",options:a.durations,onSelect:i.sortDurationsProduct,selected:a.titleOptions[1]},null,8,["options","onSelect","selected"]),(0,s.Wm)(n,{class:"fh-filters__item",options:a.visits,onSelect:i.sortVisitsProduct,selected:a.titleOptions[2]},null,8,["options","onSelect","selected"]),(0,s.Wm)(n,{class:"fh-filters__item",options:a.durations,onSelect:i.sortDurationsProduct,selected:a.titleOptions[3]},null,8,["options","onSelect","selected"]),(0,s.Wm)(n,{class:"fh-filters__item",options:a.visits,onSelect:i.sortVisitsProduct,selected:a.titleOptions[4]},null,8,["options","onSelect","selected"])]),(0,s._)("div",_t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filteredProducts,(t=>((0,s.wg)(),(0,s.j4)(c,{key:t.alias,product_data:t,onAddToCart:i.addToCart,onProductClick:i.productClick},null,8,["product_data","onAddToCart","onProductClick"])))),128))])],64)}const ht={class:"my-select"},ft={key:0,class:"my-select__options options"},vt=["onClick"];function Ct(t,e,r,o,a,i){return(0,s.wg)(),(0,s.iD)("div",ht,[(0,s._)("div",{class:"my-select__title",onClick:e[0]||(e[0]=t=>a.isArrOptionsVisible=!a.isArrOptionsVisible)},(0,n.zw)(r.selected),1),a.isArrOptionsVisible?((0,s.wg)(),(0,s.iD)("div",ft,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.options,(t=>((0,s.wg)(),(0,s.iD)("span",{class:"options__item",key:t.value,onClick:e=>i.selectOption(t)},(0,n.zw)(t.name),9,vt)))),128))])):(0,s.kq)("",!0)])}var gt={name:"my-select",props:{options:{type:Array,default(){return[]}},selected:{type:String,default:""}},data(){return{isArrOptionsVisible:!1}},methods:{selectOption(t){this.$emit("select",t),this.isArrOptionsVisible=!1},hideSelect(){this.isArrOptionsVisible=!1}},mounted(){document.addEventListener("click",this.hideSelect.bind(this),!0)},beforeUnmount(){document.removeEventListener("click",this.hideSelect)}};const Tt=(0,C.Z)(gt,[["render",Ct]]);var Ot=Tt;const Dt={class:"fh-catalog-item item"},wt=["src","alt"],At={class:"item__info"},Rt={class:"item__title"},Pt={class:"item__list"};function St(t,e,r,o,a,i){return(0,s.wg)(),(0,s.iD)("div",Dt,[(0,s._)("div",{class:"bg-blue-100",onClick:e[0]||(e[0]=(...t)=>i.productClick&&i.productClick(...t))},[(0,s._)("img",{src:r.product_data.image,alt:r.product_data.title},null,8,wt)]),(0,s._)("div",At,[(0,s._)("h3",Rt,(0,n.zw)(r.product_data.title),1),(0,s._)("p",null,(0,n.zw)(r.product_data.description.substr(0,100)+"..."),1),(0,s._)("ul",Pt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.product_data.properties.length,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{class:"item__list-item",key:e}," # "+(0,n.zw)(r.product_data.properties[e].value),1)))),128))]),(0,s._)("button",{class:"button",onClick:e[1]||(e[1]=(...t)=>i.addToCart&&i.addToCart(...t))},"Купить")])])}var bt={name:"fh-catalog-item",props:{product_data:{type:Object}},computed:{},methods:{addToCart(){this.$emit("addToCart",this.product_data)},productClick(){this.$emit("productClick",this.product_data.alias)}}};const yt=(0,C.Z)(bt,[["render",St]]);var kt=yt,Et={name:"fh-catalog",components:{FhCatalogItem:kt,MySelect:Ot},data(){return{options:[{name:"100 занятий",value:1},{name:"18 занятий",value:2},{name:"36 занятий",value:3},{name:"разовое посещение",value:4}],durations:[{name:"1 год",value:1},{name:"6 месяцев",value:2},{name:"1 месяц",value:3}],visits:[{name:"Утро",value:1},{name:"Вечер",value:2}],titleOptions:["Количество занятий","Срок действия","Время посещения","Тип секции","Категория тренера"],sortedProducts:[]}},computed:{...(0,f.Se)(["PRODUCTS","CART"]),filteredProducts(){return this.sortedProducts.length?this.sortedProducts:this.PRODUCTS}},methods:{...(0,f.nv)(["GET_PRODUCTS_FROM_API","ADD_TO_CART"]),addToCart(t){this.ADD_TO_CART(t)},productClick(t){this.$router.push({name:"product",query:{product:t}})},sortCountDaysProduct(t){this.titleOptions[0]=t.name,this.sortedProducts=[];let e=this;this.PRODUCTS.map((r=>{r.properties[0].value===t.name&&e.sortedProducts.push(r)}))},sortDurationsProduct(t){this.titleOptions[1]=t.name,this.sortedProducts=[];let e=this;this.PRODUCTS.map((r=>{r.properties[1].value===t.name&&e.sortedProducts.push(r)}))},sortVisitsProduct(t){this.titleOptions[2]=t.name,this.sortedProducts=[];let e=this;this.PRODUCTS.map((r=>{r.properties[2].value===t.name&&e.sortedProducts.push(r)}))}},mounted(){this.GET_PRODUCTS_FROM_API()}};const Ft=(0,C.Z)(Et,[["render",mt]]);var Mt=Ft,Ht={name:"page-catalog",components:{FhCatalog:Mt}};const Ut=(0,C.Z)(Ht,[["render",dt]]);var zt=Ut;const jt=(0,b.p7)({history:(0,b.PO)(),routes:[{path:"/vue-shop-test",name:"catalog",component:zt},{path:"/product",name:"product",component:lt,props:!0},{path:"/cart",name:"cart",component:J,props:!0}]});var Vt=jt;(0,o.ri)(w).use(Vt).use(S).mount("#app")}},e={};function r(o){var s=e[o];if(void 0!==s)return s.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,o,s,a){if(!o){var i=1/0;for(u=0;u<t.length;u++){o=t[u][0],s=t[u][1],a=t[u][2];for(var n=!0,c=0;c<o.length;c++)(!1&a||i>=a)&&Object.keys(r.O).every((function(t){return r.O[t](o[c])}))?o.splice(c--,1):(n=!1,a<i&&(i=a));if(n){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[o,s,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,a,i=o[0],n=o[1],c=o[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(c)var u=c(r)}for(e&&e(o);l<i.length;l++)a=i[l],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(u)},o=self["webpackChunkvue_shop_test"]=self["webpackChunkvue_shop_test"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(2492)}));o=r.O(o)})();
//# sourceMappingURL=app.a82f7e71.js.map